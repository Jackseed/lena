<div fxFlexLayout="row" fxFlexAlign="center end" class="title-line">
  <h2 class="title" fxFlex>Liste des projets</h2>
  <button
    fxFlex="nogrow"
    mat-stroked-button
    routerLink="categories"
    class="add-button"
  >
    Ajouter une cat√©gorie
  </button>
</div>

<div cdkDropListGroup>
  <div
    cdkDropList
    [cdkDropListData]="category.projectIds"
    class="list container"
    (cdkDropListDropped)="drop($event)"
    *ngFor="let category of categories$ | async"
    id="{{ category.id }}"
  >
    <div fxFlexLayout="row" fxFlexAlign="center end" class="title-line subtitle-line">
      <h3 class="subtitle" fxFlex>{{ category.name }}</h3>
      <button
        fxFlex="nogrow"
        mat-button
        (click)="addProject(category.id)"
        class="add-button"
      >
        Ajouter un projet
      </button>
    </div>

    <div
      *ngFor="let projectId of sortByPosition(category.projectIds)"
      class="item"
      [routerLink]="[projectId.id, 'edit']"
      cdkDrag
    >
      {{ getProjectById(projectId.id).title }}
    </div>
  </div>
</div>
